{"ast":null,"code":"import _classCallCheck from \"/Users/mac/Desktop/phase_4_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac/Desktop/phase_4_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n// If no effect ran after this amount of time, we assume that the render was not committed by React\nvar CLEANUP_TIMER_LOOP_MILLIS = 1000;\nexport var TimerBasedCleanupTracking = /*#__PURE__*/function () {\n  function TimerBasedCleanupTracking() {\n    var timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : CLEANUP_TIMER_LOOP_MILLIS;\n    _classCallCheck(this, TimerBasedCleanupTracking);\n    this.timeouts = new Map();\n    this.cleanupTimeout = CLEANUP_TIMER_LOOP_MILLIS;\n    this.cleanupTimeout = timeout;\n  }\n  _createClass(TimerBasedCleanupTracking, [{\n    key: \"register\",\n    value: function register(object, unsubscribe, unregisterToken) {\n      var _this = this;\n      if (!this.timeouts) {\n        this.timeouts = new Map();\n      }\n      var timeout = setTimeout(function () {\n        if (typeof unsubscribe === 'function') {\n          unsubscribe();\n        }\n        _this.timeouts.delete(unregisterToken.cleanupToken);\n      }, this.cleanupTimeout);\n      this.timeouts.set(unregisterToken.cleanupToken, timeout);\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister(unregisterToken) {\n      var timeout = this.timeouts.get(unregisterToken.cleanupToken);\n      if (timeout) {\n        this.timeouts.delete(unregisterToken.cleanupToken);\n        clearTimeout(timeout);\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this2 = this;\n      if (this.timeouts) {\n        this.timeouts.forEach(function (value, key) {\n          _this2.unregister({\n            cleanupToken: key\n          });\n        });\n        this.timeouts = undefined;\n      }\n    }\n  }]);\n  return TimerBasedCleanupTracking;\n}();","map":null,"metadata":{},"sourceType":"module"}