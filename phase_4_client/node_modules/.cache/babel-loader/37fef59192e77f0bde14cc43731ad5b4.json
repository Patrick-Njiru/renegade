{"ast":null,"code":"import _slicedToArray from \"/Users/mac/Desktop/renegade/phase_4_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { unstable_composeClasses as composeClasses } from '@mui/material';\nimport { unstable_useId as useId } from '@mui/material/utils';\nimport { useGridApiContext } from '../../hooks/utils/useGridApiContext';\nimport { GridColumnHeaderSortIcon } from './GridColumnHeaderSortIcon';\nimport { ColumnHeaderMenuIcon } from './ColumnHeaderMenuIcon';\nimport { GridColumnHeaderMenu } from '../menu/columnMenu/GridColumnHeaderMenu';\nimport { getDataGridUtilityClass } from '../../constants/gridClasses';\nimport { useGridRootProps } from '../../hooks/utils/useGridRootProps';\nimport { GridGenericColumnHeaderItem } from './GridGenericColumnHeaderItem';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar useUtilityClasses = function useUtilityClasses(ownerState) {\n  var column = ownerState.column,\n    classes = ownerState.classes,\n    isDragging = ownerState.isDragging,\n    sortDirection = ownerState.sortDirection,\n    showRightBorder = ownerState.showRightBorder,\n    filterItemsCounter = ownerState.filterItemsCounter;\n  var isColumnSorted = sortDirection != null;\n  var isColumnFiltered = filterItemsCounter != null && filterItemsCounter > 0; // todo refactor to a prop on col isNumeric or ?? ie: coltype===price wont work\n\n  var isColumnNumeric = column.type === 'number';\n  var slots = {\n    root: ['columnHeader', column.headerAlign === 'left' && 'columnHeader--alignLeft', column.headerAlign === 'center' && 'columnHeader--alignCenter', column.headerAlign === 'right' && 'columnHeader--alignRight', column.sortable && 'columnHeader--sortable', isDragging && 'columnHeader--moving', isColumnSorted && 'columnHeader--sorted', isColumnFiltered && 'columnHeader--filtered', isColumnNumeric && 'columnHeader--numeric', showRightBorder && 'withBorder'],\n    draggableContainer: ['columnHeaderDraggableContainer'],\n    titleContainer: ['columnHeaderTitleContainer'],\n    titleContainerContent: ['columnHeaderTitleContainerContent']\n  };\n  return composeClasses(slots, getDataGridUtilityClass, classes);\n};\nfunction GridColumnHeaderItem(props) {\n  var _apiRef$current$getRo, _rootProps$components, _column$sortingOrder, _rootProps$components2, _column$headerName;\n  var column = props.column,\n    columnMenuOpen = props.columnMenuOpen,\n    colIndex = props.colIndex,\n    headerHeight = props.headerHeight,\n    isResizing = props.isResizing,\n    isLastColumn = props.isLastColumn,\n    sortDirection = props.sortDirection,\n    sortIndex = props.sortIndex,\n    filterItemsCounter = props.filterItemsCounter,\n    hasFocus = props.hasFocus,\n    tabIndex = props.tabIndex,\n    extendRowFullWidth = props.extendRowFullWidth,\n    disableReorder = props.disableReorder,\n    separatorSide = props.separatorSide;\n  var apiRef = useGridApiContext();\n  var rootProps = useGridRootProps();\n  var headerCellRef = React.useRef(null);\n  var columnMenuId = useId();\n  var columnMenuButtonId = useId();\n  var iconButtonRef = React.useRef(null);\n  var _React$useState = React.useState(columnMenuOpen),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    showColumnMenuIcon = _React$useState2[0],\n    setShowColumnMenuIcon = _React$useState2[1];\n  var _ref = (_apiRef$current$getRo = apiRef.current.getRootDimensions()) != null ? _apiRef$current$getRo : {\n      hasScrollX: false,\n      hasScrollY: false\n    },\n    hasScrollX = _ref.hasScrollX,\n    hasScrollY = _ref.hasScrollY;\n  var isDraggable = React.useMemo(function () {\n    return !rootProps.disableColumnReorder && !disableReorder && !column.disableReorder;\n  }, [rootProps.disableColumnReorder, disableReorder, column.disableReorder]);\n  var headerComponent;\n  if (column.renderHeader) {\n    headerComponent = column.renderHeader(apiRef.current.getColumnHeaderParams(column.field));\n  }\n  var removeLastBorderRight = isLastColumn && hasScrollX && !hasScrollY;\n  var showRightBorder = !isLastColumn ? rootProps.showColumnRightBorder : !removeLastBorderRight && !extendRowFullWidth;\n  var ownerState = _extends({}, props, {\n    classes: rootProps.classes,\n    showRightBorder: showRightBorder\n  });\n  var classes = useUtilityClasses(ownerState);\n  var publish = React.useCallback(function (eventName) {\n    return function (event) {\n      // Ignore portal\n      // See https://github.com/mui/mui-x/issues/1721\n      if (!event.currentTarget.contains(event.target)) {\n        return;\n      }\n      apiRef.current.publishEvent(eventName, apiRef.current.getColumnHeaderParams(column.field), event);\n    };\n  }, [apiRef, column.field]);\n  var mouseEventsHandlers = React.useMemo(function () {\n    return {\n      onClick: publish('columnHeaderClick'),\n      onDoubleClick: publish('columnHeaderDoubleClick'),\n      onMouseOver: publish('columnHeaderOver'),\n      // TODO remove as it's not used\n      onMouseOut: publish('columnHeaderOut'),\n      // TODO remove as it's not used\n      onMouseEnter: publish('columnHeaderEnter'),\n      // TODO remove as it's not used\n      onMouseLeave: publish('columnHeaderLeave'),\n      // TODO remove as it's not used\n      onKeyDown: publish('columnHeaderKeyDown'),\n      onFocus: publish('columnHeaderFocus'),\n      onBlur: publish('columnHeaderBlur')\n    };\n  }, [publish]);\n  var draggableEventHandlers = React.useMemo(function () {\n    return isDraggable ? {\n      onDragStart: publish('columnHeaderDragStart'),\n      onDragEnter: publish('columnHeaderDragEnter'),\n      onDragOver: publish('columnHeaderDragOver'),\n      onDragEnd: publish('columnHeaderDragEnd')\n    } : {};\n  }, [isDraggable, publish]);\n  var columnHeaderSeparatorProps = React.useMemo(function () {\n    return {\n      onMouseDown: publish('columnSeparatorMouseDown')\n    };\n  }, [publish]);\n  React.useEffect(function () {\n    if (!showColumnMenuIcon) {\n      setShowColumnMenuIcon(columnMenuOpen);\n    }\n  }, [showColumnMenuIcon, columnMenuOpen]);\n  var handleExited = React.useCallback(function () {\n    setShowColumnMenuIcon(false);\n  }, []);\n  var columnMenuIconButton = !rootProps.disableColumnMenu && !column.disableColumnMenu && /*#__PURE__*/_jsx(ColumnHeaderMenuIcon, {\n    column: column,\n    columnMenuId: columnMenuId,\n    columnMenuButtonId: columnMenuButtonId,\n    open: showColumnMenuIcon,\n    iconButtonRef: iconButtonRef\n  });\n  var columnMenu = /*#__PURE__*/_jsx(GridColumnHeaderMenu, {\n    columnMenuId: columnMenuId,\n    columnMenuButtonId: columnMenuButtonId,\n    field: column.field,\n    open: columnMenuOpen,\n    target: iconButtonRef.current,\n    ContentComponent: rootProps.components.ColumnMenu,\n    contentComponentProps: (_rootProps$components = rootProps.componentsProps) == null ? void 0 : _rootProps$components.columnMenu,\n    onExited: handleExited\n  });\n  var sortingOrder = (_column$sortingOrder = column.sortingOrder) != null ? _column$sortingOrder : rootProps.sortingOrder;\n  var columnTitleIconButtons = /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [!rootProps.disableColumnFilter && /*#__PURE__*/_jsx(rootProps.components.ColumnHeaderFilterIconButton, _extends({\n      field: column.field,\n      counter: filterItemsCounter\n    }, (_rootProps$components2 = rootProps.componentsProps) == null ? void 0 : _rootProps$components2.columnHeaderFilterIconButton)), column.sortable && !column.hideSortIcons && /*#__PURE__*/_jsx(GridColumnHeaderSortIcon, {\n      direction: sortDirection,\n      index: sortIndex,\n      sortingOrder: sortingOrder\n    })]\n  });\n  React.useLayoutEffect(function () {\n    var columnMenuState = apiRef.current.state.columnMenu;\n    if (hasFocus && !columnMenuState.open) {\n      var focusableElement = headerCellRef.current.querySelector('[tabindex=\"0\"]');\n      var elementToFocus = focusableElement || headerCellRef.current;\n      elementToFocus == null ? void 0 : elementToFocus.focus();\n      apiRef.current.columnHeadersContainerElementRef.current.scrollLeft = 0;\n    }\n  }, [apiRef, hasFocus]);\n  var headerClassName = typeof column.headerClassName === 'function' ? column.headerClassName({\n    field: column.field,\n    colDef: column\n  }) : column.headerClassName;\n  var label = (_column$headerName = column.headerName) != null ? _column$headerName : column.field;\n  return /*#__PURE__*/_jsx(GridGenericColumnHeaderItem, _extends({\n    ref: headerCellRef,\n    classes: classes,\n    columnMenuOpen: columnMenuOpen,\n    colIndex: colIndex,\n    height: headerHeight,\n    isResizing: isResizing,\n    sortDirection: sortDirection,\n    hasFocus: hasFocus,\n    tabIndex: tabIndex,\n    separatorSide: separatorSide,\n    isDraggable: isDraggable,\n    headerComponent: headerComponent,\n    description: column.description,\n    elementId: column.field,\n    width: column.computedWidth,\n    columnMenuIconButton: columnMenuIconButton,\n    columnTitleIconButtons: columnTitleIconButtons,\n    headerClassName: headerClassName,\n    label: label,\n    resizable: !rootProps.disableColumnResize && !!column.resizable,\n    \"data-field\": column.field,\n    columnMenu: columnMenu,\n    draggableContainerProps: draggableEventHandlers,\n    columnHeaderSeparatorProps: columnHeaderSeparatorProps\n  }, mouseEventsHandlers));\n}\nprocess.env.NODE_ENV !== \"production\" ? GridColumnHeaderItem.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  colIndex: PropTypes.number.isRequired,\n  column: PropTypes.object.isRequired,\n  columnMenuOpen: PropTypes.bool.isRequired,\n  disableReorder: PropTypes.bool,\n  extendRowFullWidth: PropTypes.bool.isRequired,\n  filterItemsCounter: PropTypes.number,\n  hasFocus: PropTypes.bool,\n  headerHeight: PropTypes.number.isRequired,\n  isDragging: PropTypes.bool.isRequired,\n  isLastColumn: PropTypes.bool.isRequired,\n  isResizing: PropTypes.bool.isRequired,\n  separatorSide: PropTypes.oneOf(['left', 'right']),\n  sortDirection: PropTypes.oneOf(['asc', 'desc']),\n  sortIndex: PropTypes.number,\n  tabIndex: PropTypes.oneOf([-1, 0]).isRequired\n} : void 0;\nexport { GridColumnHeaderItem };","map":null,"metadata":{},"sourceType":"module"}